{
  "hash": "273e1663d1f2b321f5e6d25bf1407dd6",
  "result": {
    "markdown": "---\ntitle: \"Introduction\"\nsubtitle: \"Working in R and RStudio\"\nauthor: \"Athanasia Mo Mowinckel\"\n#logo: \"img/wtf-logo-square-transparent.png\"\nformat: \n  revealjs: \n    height: 900\n    width: 1600\n    theme: \n      - night\n      - capro-reveal.scss\n    highlight-style: a11y\n    transition: fade\n    slide-number: true\n    chalkboard: true\neditor: visual\nexecute:\n  freeze: auto\n---\n\n::: {.cell}\n\n:::\n\n\n# CAPRO\n\nWe specialize in data processing and capture of large life science data for social sciences and humanities\n\n::: footer\n<https://www.capro.dev/>\n:::\n\n# CAPRO\n\n::: {style=\"text-align: right;\"}\n-   Data flow and processing\n\n-   Data capture\n\n-   Project data management\n\n-   Registry data handling\n\n-   HPC analyses\n:::\n\n::: footer\n<https://www.capro.dev/>\n:::\n\n# Meet your neighbors\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_4f567a1f\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0%;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n# Pre-workshop checklist\n\n<br><br>\n\n<https://www.capro.dev/workshop_rproj/#preparations>\n\n# Asking for help\n\n::: columns\n::: column\n::: {data-id=\"box1\" style=\"background: #CC4C4C; width: 500px; height: 150px; margin: 20px; padding: 20px; padding-top: 70px; text-align: center;\"}\nI'm stuck or need help\n:::\n:::\n\n::: column\n::: {data-id=\"box2\" style=\"background: #37765d; width: 500px; height: 150px; margin: 20px; padding: 20px; padding-top: 70px; text-align: center;\"}\nAll good, ready to move on\n:::\n:::\n:::\n\n\n\n\n## Schedule [^schedule-1]\n\n[^schedule-1]: This course relies heavily on materials from [What They Forgot to Teach you about R](https://rstats.wtf/), which is an excellent resource to dig deeper into to improve the way you work in R.\n\n|                                           |         |\n|-------------------------------------------|---------|\n| Saving source and blank slates            | 1 hour  |\n| Project-oriented workflow                 | 1 hour  |\n| How to name files & practicing safe paths | 1 hour  |\n| R package management                      | 2 hours |\n\n\n\n# Completion survey\n\n<br>\n\nAt the conclusion of the workshop, please submit <add survey link>.\n\n<br>\n\nYour feedback is crucial! Data from the survey informs curriculum and format decisions for future conf workshops, and we really appreciate you taking the time to provide it.\n\n# Go here now\n\n<br><br>\n\n<https://www.capro.dev/workshop_rproj/>\n\n\n---\n\n\n# Getting started\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n\n## Checklist\n\n<br>\n\n`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 448 512\" style=\"height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#CC4C4C;overflow:visible;position:relative;\"><path d=\"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"/></svg>`{=html} R installed?\nPretty recent?\n\n¬†¬†¬†¬† Recommended R ‚â• 4.3.0\n\n`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 448 512\" style=\"height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#CC4C4C;overflow:visible;position:relative;\"><path d=\"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"/></svg>`{=html} RStudio installed?\n\n¬†¬†¬†¬† I'm on 2023.06.1 Build 524\n¬†¬†¬†¬† \n\n`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 448 512\" style=\"height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#CC4C4C;overflow:visible;position:relative;\"><path d=\"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"/></svg>`{=html} Packages?\n\n`install.packages(c(\"tidyverse\", \"rmarkdown\", \"usethis\", \"fs\", \"here\"))`\n\n\n## Resources\n\n<br>\n\nBook: [https://rstats.wtf](https://rstats.wtf/){target=\"_blank\"}\n\n\n\n\n## \n\n<br>\n\n::: {.center-x .r-fit-text}\nWhat [*Did*]{.important} They Forget <br> to Teach You?\n:::\n\n\n##  {background-image=\"img/everything-else.PNG\" background-size=\"contain\"}\n\n## Learning objectives\n\n1. Establish the concept of the project as the basic organizational unit of work.\n\n2. Apply best practices in and leverage benefits of working in RStudio projects, including\n\n* Creating robust file paths that travel well in time and space.\n\n* Constructing human and machine readable file names that sort nicely.\n\n* Differentiating workflow elements, analysis inputs, and analysis outputs in project structure to create navigable programming interfaces.\n\n* Restarting R frequently, with a blank slate.\n\n## Why do we care about project management?\n\n::: columns\n::: {.column width=\"48%\"}\n### Portability\n\n_The ability to move the project without breaking code or needing adapting_\n\n- you will change computers\n- you will reorganise your file structure\n- you will share your code with others\n:::\n\n::: {.column width=\"4%\"}\n:::\n\n::: {.column .fragment width=\"48%\"}\n### Reproducibility\n_The ability to rerun the entire process from scratch_\n\n- not just for reviews\n- not just for best-practice science\n- also for future (or even present) you\n- and for your collaborators/helpers\n:::\n:::\n\n# Be organized\n\n##  {background-image=\"img/deep_thoughts.PNG\"}\n\n## Be organized as you go, <br> not \"tomorrow\"\n\n::: columns\n::: {.column width=\"48%\"}\nDon't fret over past mistakes.\n\n![](img/clutter.png)\n:::\n\n::: {.column width=\"4%\"}\n:::\n\n::: {.column .fragment width=\"48%\"}\nRaise the bar for new work.\n\n![](img/organised.png)\n:::\n:::\n\n## Be organized\n\n<br>\n\n<br>\n\n::: r-fit-text\nself-explaining `>>>` wordy, needy explainers\n:::\n\n## Be organized\n\n::: {.columns .v-center-container}\n::: {.column width=\"45%\"}\n![](img/packages-report-example.png)\n:::\n\n::: {.column width=\"10%\"}\n::: r-fit-text\n`>>>`\n:::\n:::\n\n::: {.column width=\"45%\"}\n&nbsp; file salad <br> \n&nbsp; + an out of date README\n:::\n:::\n\n## Good enough practices in scientific computing\n\n::: {.columns .v-center-container}\n::: {.column width=\"45%\"}\n![](img/airplane-duct.png)\n:::\n\n::: {.column width=\"2%\"}\n:::\n\n::: {.fragment .column width=\"53%\"}\n*PLOS Computational Biology*\n\nWilson, Bryan, Cranston, Kitzes, Nederbragt, Teal  (2017)\n\n\n<https://doi.org/10.1371/journal.pcbi.1005510>\n\n\n<http://bit.ly/good-enuff>\n:::\n:::\n\n# Practical Example\n\n## Your R installation\n\n::: {.fragment fragment-index=\"1\"}\n**R packages**\n\n-   the natural unit for distributing R code\n:::\n\n::: {.fragment fragment-index=\"2\"}\n**base R**\n\n-   14 base + 15 recommended packages\n\n-   ships with all binary distributions of R\n:::\n\n::: {.fragment fragment-index=\"3\"}\n**For example, have you used lattice recently?** ü§∑\n\n-   it came with your R installation, can use out of the box\n\n-   `library(lattice)`\n:::\n\n## Additional packages\n\n<br>\n\n::: {.columns}\n::: {.column width=\"40%\"}\n\n**CRAN, \\~20k packages**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install from CRAN\ninstall.packages(\"remotes\")\n# attach\nlibrary(remotes)\n```\n:::\n\n:::\n\n::: {.column width=\"2%\"}\n:::\n\n::: {.column .fragment width=\"58%\"}\n\n**GitHub, ??? packages**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install via remotes\nremotes::install_github(\"rstats-wtf/wtfdbg\")\n# attach\nlibrary(wtfdbg)\n```\n:::\n\n:::\n:::\n\n\n::: footer\nwe'll use `wtfdbg` later in *Debugging*\n:::\n\n## Where do packages live locally?\n\n<br>\n\nBy default, in the default library\n\n`.Library`\n\n<br>\n\nAll libraries for the current session\n\n`.libPaths()`\n\n<br>\n\nAll installed packages\n\n`installed.packages()`\n\n## Syntax aside: pipes\n\n-   2014+ magrittr pipe `%>%`\n\n-   2021+ (R $\\geq$ 4.1.0) native R pipe `|>`\n\n2022 Isabella Vel√°squez Understanding the native R pipe \\|\\> <https://ivelasq.rbind.io/blog/understanding-the-r-pipe/>\n\n. . .\n\n<brshort>\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nwhatever(arg1, arg2, arg3, ...)\narg1 |>  \n  whatever(arg2, arg3)\n```\n:::\n\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(0:10)\n0:10 |> \n  mean()\n```\n:::\n\n:::\n:::\n\n::: footer\nChange `CTRL + Shift + M` shortcut to native pipe:\n\n`Tools -> Global Options -> Code ->`\n\n¬†¬† `Editing -> check Use Native Pipe Operator`\n:::\n\n## Syntax aside: namespacing\n\n`dplyr::select()`\n\n-   tells R explicitly to use the function `select` from the package `dplyr`\n\n-   can help to avoid name conflicts (e.g., `MASS::select()`)\n\n-   does not require `library(dplyr)`\n\n. . .\n\n::: columns\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\nselect(mtcars, mpg, cyl) \nmtcars |>  \n  select(mpg, cyl) \n```\n:::\n\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\n# library(dplyr) not needed\ndplyr::select(mtcars, mpg, cyl) \nmtcars |>  \n  dplyr::select(mpg, cyl) \n```\n:::\n\n:::\n:::\n\n## üßê Explore your R installation\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"usethis\")\nlibrary(usethis)\n# saves project on desktop by default for most users\nuse_course(\"rstats-wtf/wtf-explore-libraries\")\n# use_course(\"rstats-wtf/wtf-explore-libraries\", destdir = \"my/new/location\")\n# can alternatively download from \n# https://github.com/rstats-wtf/wtf-explore-libraries\n```\n:::\n\n\n\n::: {.small}\nRead the `README.md` to get started.\n\n* `01_explore-libraries_spartan.R` <br> (directions to explore without suggested code)\n\n* `01_explore-libraries_comfy.R`<br> (directions to explore with suggested code)\n\n* `01_explore-libraries_solution.R`<br> (directions to explore with code solutions)\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_efb5d183\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0%;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">15</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}